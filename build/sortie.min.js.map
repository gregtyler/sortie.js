{"version":3,"sources":["sortie.js"],"names":["root","factory","define","amd","module","exports","Sortie","this","SortieConstructor","strReverse","str","split","reverse","join","parseDate","format","parts","replace","match","type","start","substr","length","Date","yyyy","mm","dd","hh","ii","ss","textContent","node","$","text","SortieInstance","$table","options","getOptions","dataAttr","attributes","dataOptions","i","l","attr","name","normkey","toLowerCase","value","extend","defaults","init","sorts","sort","getAttribute","$headers","console","error","setAttribute","col","$button","document","createElement","style","backgroundColor","border","innerHTML","markers","unsorted","$header","whiteSpace","cursor","addEventListener","sortFactory","_data","set","compareFactory","appendChild","createTextNode","initialsort","opts","toString","dir","parseInt","$th","$btn","get","rows","Array","prototype","slice","call","$body","querySelectorAll","current","desc","asc","$el","removeAttribute","frag","createDocumentFragment","sortSpec","bits","operation","args","callback","compareFunctions","a","b","cellA","children","cellB","order","window","querySelector","obj","jQuery","data","create","el","registerComparison","codes","attachTojQuery","jq","method","jquery","fn","apply","arguments","each","command","getIndex","$obj","index","__obj","push","key","val","ah","trim","bh","localeCompare","dateFormat","dateA","dateB","aInt","bInt","isNaN"],"mappings":";;;;CAIC,SAASA,EAAMC,GACU,kBAAXC,SAAyBA,OAAOC,IAEvCD,UAAWD,GACc,gBAAXG,SAAuBA,OAAOC,QAG5CD,OAAOC,QAAUJ,IAGjBD,EAAKM,OAASL,KAEpBM,KAAM,QAASC,KACb,YAgEA,SAASC,GAAWC,GAChB,MAAOA,GAAIC,MAAM,IAAIC,UAAUC,KAAK,IAOxC,QAASC,GAAUJ,EAAKK,GACpB,GAAIC,KAMJ,OALsB,mBAAXD,KAAwBA,EAAS,cAC5CA,EAAOE,QAAQ,sBAAuB,SAASC,EAAOC,EAAMC,GACxDJ,EAAMG,GAAQT,EAAIW,OAAOD,EAAOD,EAAKG,UAGlC,GAAIC,MACPP,EAAMQ,MAAQ,EACbR,EAAMS,GAAK,GAAM,EAClBT,EAAMU,IAAM,EACZV,EAAMW,IAAM,EACZX,EAAMY,IAAM,EACZZ,EAAMa,IAAM,GAOpB,QAASC,GAAYC,GACjB,MAAOA,GAAKD,aAAeE,EAAED,GAAME,OAGvC,QAASC,GAAeC,EAAQC,GAS5B,QAASC,KAGL,IAAK,GAFDC,GAAWH,EAAOI,WAClBC,KACKC,EAAI,EAAGC,EAAIJ,EAAShB,OAAYoB,EAAJD,EAAOA,IAAK,CAC7C,GAAIE,GAAOL,EAASG,EAEpB,IAAgC,gBAA5BE,EAAKC,KAAKvB,OAAO,EAAG,KAAyBsB,EAAKC,KAAKtB,OAAS,GAAI,CACpE,GAAIuB,GAAUF,EAAKC,KAAKE,cAAc7B,QAAQ,KAAM,GACpDuB,GAAYK,EAAQxB,OAAO,KAAOsB,EAAKI,OAI/C,MAAOf,GAAEgB,QAAO,KAAUC,EAAUb,EAASI,GAMjD,QAASU,KAELd,EAAUC,GAGV,IAAIc,EAQJ,IANIA,EADwB,mBAAjBf,GAAQgB,KACPhB,EAAQgB,KAERjB,EAAOkB,aAAa,eAIlB,OAAVF,EAAgB,OAAO,CAGN,iBAAVA,KACPA,EAAQA,EAAMxC,MAAM,MAGpBwC,EAAM7B,OAASgC,EAAShC,QACxBiC,QAAQC,MAAM,wDAIlBrB,EAAOsB,aAAa,eAAe,GACnCtB,EAAOsB,aAAa,YAAa,UACjCtB,EAAOsB,aAAa,gBAAiB,OAGhCtB,EAAOkB,aAAa,OACrBlB,EAAOsB,aAAa,KAAM,cAA8B,EAAb,GAAIlC,MAInD,KAAK,GAAImC,KAAOP,GAEZ,GAAKA,EAAMO,GAAX,CAGA,GAAIC,GAAUC,SAASC,cAAc,SACrCF,GAAQG,MAAMC,gBAAkB,cAChCJ,EAAQG,MAAME,OAAS,OACvBL,EAAQM,UAAY7B,EAAQ8B,QAAQC,SACpCR,EAAQF,aAAa,OAAQ,UAC7BE,EAAQF,aAAa,gBAAiBtB,EAAOkB,aAAa,MAE1D,IAAIe,GAAUd,EAASI,EACvBU,GAAQN,MAAMO,WAAa,SAC3BD,EAAQN,MAAMQ,OAAS,UACvBF,EAAQG,iBAAiB,QAASC,EAAYd,IAC9CU,EAAQX,aAAa,eAAe,GACpCgB,EAAMC,IAAIN,EAAS,wBAAyBO,EAAejB,EAAKP,EAAMO,KAEtEe,EAAMC,IAAIN,EAAS,eAAgBT,GACnCS,EAAQQ,YAAYhB,SAASiB,eAAe,MAC5CT,EAAQQ,YAAYjB,GAIxB,GAAIvB,EAAQ0C,eAAgB,EAAO,CAC/B,GAAIC,KACJ,IAAqD,MAAjD3C,EAAQ0C,YAAYE,WAAW3D,OAAO,GAAI,GAC1C0D,EAAKE,IAAM,WACR,IAAqD,MAAjD7C,EAAQ0C,YAAYE,WAAW3D,OAAO,GAAI,GACjD0D,EAAKE,IAAM,UACR,IAAuC,OAAnC7C,EAAQ0C,YAAYE,WAC3B,IAAK,GAAIvC,GAAI,EAAGC,EAAIS,EAAM7B,OAAYoB,EAAJD,EAAOA,IACrC,GAAIU,EAAMV,GAAI,CACVL,EAAQ0C,YAAcrC,CACtB,OAKZW,EAAKhB,EAAQ0C,YAAaC,IAKlC,QAASP,GAAYd,GACjB,MAAO,YACHN,EAAKM,IAOb,QAASN,GAAKM,EAAKqB,GAEfrB,EAAMwB,SAASxB,EAAK,GAEpB,IAAIqB,GAAO/C,EAAEgB,UAAW+B,GACpBI,EAAM7B,EAASI,GAEf0B,EAAOX,EAAMY,IAAIF,EAAK,gBACtBG,EAAOC,MAAMC,UAAUC,MAAMC,KAAKC,EAAMC,iBAAiB,MAAO,GAChEX,EAA0B,mBAAbF,GAAKE,IAAsBF,EAAKE,IAAM,KAGnDY,KAAYnC,GAA6C,QAAtCe,EAAMY,IAAIF,EAAK,oBAAmD,mBAAZJ,GAAKE,MAC9EA,EAAM,QAIVY,EAAUnC,EACVe,EAAMC,IAAIS,EAAK,kBAAmBF,GAClCE,EAAI1B,aAAa,YAAawB,EAAInC,cAAgB,UAGlDwC,EAAKlC,KAAKqB,EAAMY,IAAIF,EAAK,0BAGb,SAARF,GACAG,EAAKnB,UAAY7B,EAAQ8B,QAAQ4B,KACjCR,EAAOA,EAAK1E,WAEZwE,EAAKnB,UAAY7B,EAAQ8B,QAAQ6B,GAKrC,KAAK,GAAItD,GAAI,EAAGC,EAAIY,EAAShC,OAAYoB,EAAJD,EAAOA,IAAK,CAC7C,GAAIuD,GAAM1C,EAASb,EAEfuD,KAAQb,IAGZa,EAAIC,gBAAgB,aAChBD,EAAI3C,aAAa,iBACjBoB,EAAMY,IAAIW,EAAK,gBAAgB/B,UAAY7B,EAAQ8B,QAAQC,WAKnE,GAAI+B,GAAOtC,SAASuC,wBAEpB,KAAK,GAAI1D,KAAK6C,GACVY,EAAKtB,YAAYU,EAAK7C,GAI1BkD,GAAM1B,UAAY,GAClB0B,EAAMf,YAAYsB,GAMtB,QAASvB,GAAejB,EAAK0C,GACzB,GAAIC,GAAOD,EAASzF,MAAM,KACtB2F,EAAYD,EAAK,GACjBE,EAAOF,EAAK,GAAKA,EAAK,GAAG1F,MAAM,QAC/B6F,EAAWC,EAAiBH,EAEhC,IAAwB,kBAAbE,GAAyB,CAChCjD,QAAQC,MAAM,yDAA2D8C,EAAY,IACrF,IAAIE,GAAW,WAAY,MAAO,IAGtC,MAAO,UAAiBE,EAAGC,GACvB,GAAIC,GAAQF,EAAEG,SAASnD,GACnBoD,EAAQH,EAAEE,SAASnD,GAEnBqD,EAAQP,EAASd,KAAKsB,OAAQJ,EAAOE,EAAOP,EAGhD,OAAiC,MAA1BH,EAAS/E,OAAO,EAAG,IAAc0F,EAAQA,GAjMxD,GAEIlB,GAFAF,EAAQxD,EAAO8E,cAAc,SAC7B3D,EAAWnB,EAAOyD,iBAAiB,WAqMvC1C,IAGA,IAAIgE,IAAQ9D,KAAMA,EAKlB,OAJe,QAAX+D,GACAA,EAAOhF,GAAQiF,KAAK,mBAAoBF,GAGrCA,EAIX,QAASG,GAAOC,EAAIlF,GAChB,MAAO,IAAIF,GAAeoF,EAAIlF,GAIlC,QAASmF,GAAmBC,EAAOhB,GACV,gBAAVgB,KAAoBA,GAASA,GAGxC,KAAK,GAAI/E,GAAI,EAAGC,EAAI8E,EAAMlG,OAAYoB,EAAJD,EAAOA,IACrCgE,EAAiBe,EAAM/E,IAAM+D,EA8CrC,QAASiB,GAAeC,EAAIC,GAOxB,MALkB,mBAAPD,KAAoBA,EAAKV,OAAOG,QAErB,mBAAXQ,KAAwBA,EAAS,UAG1B,kBAAPD,IAA2C,gBAAf1F,KAAI4F,QACvCrE,QAAQC,MAAM,mCACP,IAIX2D,EAASO,OAGTA,EAAGG,GAAGF,GAAU,SAASvF,GACrB,GAAImE,GAAOhB,MAAMC,UAAUC,MAAMqC,MAAMC,UAEvC,OAAO/F,GAAEzB,MAAMyH,KAAK,WAChB,GAAuB,gBAAZ5F,GAAsB,CAC7B,GAAI6F,GAAU7F,CACdJ,GAAEzB,MAAM6G,KAAK,oBAAoBa,GAAS1B,EAAKd,MAAM,QAErD,KAAKzD,EAAEzB,MAAM6G,KAAK,oBAAqB,CACnC,GAAI9G,GAAS,GAAIE,EACjBF,GAAO+G,OAAO9G,KAAM6B,SAjYxC,GAAIa,IACA6B,YAAa,GACbZ,SACI6B,IAAK,UACLD,KAAM,UACN3B,SAAU,YAIdsC,KAGAU,EAAS,KAGT1C,EAAQ,WAGR,QAASyD,GAASC,GACd,IAAK,GAAIC,GAAQ,EAAG1F,EAAI0E,EAAK9F,OAAgBoB,EAAR0F,EAAWA,IAC5C,GAAIhB,EAAKgB,GAAOC,QAAUF,EACtB,MAAOC,EAMf,OADAhB,GAAKkB,MAAMD,MAAOF,IACXf,EAAK9F,OAAS,EAGzB,QAAS+D,GAAI8C,EAAMI,GACf,GAAIH,GAAQF,EAASC,EAErB,OAAIf,GAAKgB,IAAUhB,EAAKgB,GAAOG,GACpBnB,EAAKgB,GAAOG,GAEZ,KAIf,QAAS7D,GAAIyD,EAAMI,EAAKC,GACpB,GAAIJ,GAAQF,EAASC,EAEM,oBAAhBf,GAAKgB,KACZhB,EAAKgB,OAGThB,EAAKgB,GAAOG,GAAOC,EA/BvB,GAAIpB,KAkCJ,QACI/B,IAAKA,EACLX,IAAKA,KAuVb,OA3EA6C,IAAoB,IAAK,SAAU,SAAsBX,EAAOE,GAC5D,GAAI2B,GAAK3G,EAAY8E,GAAO8B,OACxBC,EAAK7G,EAAYgF,GAAO4B,MAG5B,OAFkB,QAAd9B,EAAM3B,MAAewD,EAAKhI,EAAWgI,IACvB,QAAd3B,EAAM7B,MAAe0D,EAAKlI,EAAWkI,IAClCF,EAAGG,cAAcD,KAI5BpB,GAAoB,IAAK,QAAS,SAAqBX,EAAOE,EAAOP,GACjE,GAAIsC,GAAatC,EAAK,GAClBuC,EAAQhI,EAAUgB,EAAY8E,GAAQiC,GACtCE,EAAQjI,EAAUgB,EAAYgF,GAAQ+B,EAE1C,OAAIC,GAAQC,EACD,EACQD,EAARC,EACA,GAEA,IAKfxB,GAAoB,IAAK,OAAQ,SAAoBX,EAAOE,GACxD,GAAIkC,GAAO9D,SAASpD,EAAY8E,GAAQ,IACpCqC,EAAO/D,SAASpD,EAAYgF,GAAQ,GACxC,OAAIoC,OAAMD,GACCC,MAAMF,GAAQ,EAAI,EAClBE,MAAMF,GACN,GAEAA,EAAOC,KA4ClBxB,eAAgBA,EAChBF,mBAAoBA,EACpBF,OAAQA","file":"sortie.min.js","sourcesContent":["/*!\n * Sortie.js v0.2.0\n * An inoffensive table sorter for developers\n */\n(function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but only CommonJS-like\n        // environments that support module.exports, like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.Sortie = factory();\n    }\n}(this, function SortieConstructor() { // jscs:ignore requirePaddingNewLinesAfterBlocks\n    'use strict';\n\n    /**\n     * Variable definitions\n     */\n    var defaults = {\n        initialsort: -1,\n        markers: {\n            asc: '&#8595;',\n            desc: '&#8593;',\n            unsorted: '&#8597;'\n        }\n    };\n\n    var compareFunctions = {};\n\n    // Local storage of jQuery object\n    var jQuery = null;\n\n    // A little internal data tracker\n    var _data = (function() {\n        var data = [];\n\n        function getIndex($obj) {\n            for (var index = 0, l = data.length; index < l; index++) {\n                if (data[index].__obj === $obj) {\n                    return index;\n                }\n            }\n\n            // Otherwise, create the item\n            data.push({__obj: $obj});\n            return data.length - 1;\n        }\n\n        function get($obj, key) {\n            var index = getIndex($obj);\n\n            if (data[index] && data[index][key]) {\n                return data[index][key];\n            } else {\n                return null;\n            }\n        }\n\n        function set($obj, key, val) {\n            var index = getIndex($obj);\n\n            if (typeof data[index] === 'undefined') {\n                data[index] = {};\n            }\n\n            data[index][key] = val;\n        }\n\n        return {\n            get: get,\n            set: set\n        }\n    })();\n\n    /**\n     * Reverse a string\n     */\n    function strReverse(str) {\n        return str.split('').reverse().join('');\n    }\n\n    /**\n     * Parse a date from a format\n     * e.g. parseDate('1990-07-26 07:24', 'yyyy-mm-ss hh:ii')\n     */\n    function parseDate(str, format) {\n        var parts = {};\n        if (typeof format === 'undefined') format = 'yyyy-mm-dd';\n        format.replace(/(dd|mm|yyyy|hh|ii)/g, function(match, type, start) {\n            parts[type] = str.substr(start, type.length);\n        });\n\n        return new Date(\n            parts.yyyy || 0,\n            (parts.mm - 1) || 0,\n            parts.dd || 1,\n            parts.hh || 0,\n            parts.ii || 0,\n            parts.ss || 0\n        );\n    }\n\n    /**\n     * Get the text content of a node\n     */\n    function textContent(node) {\n        return node.textContent || $(node).text();\n    }\n\n    function SortieInstance($table, options) {\n        // Get the variables we'll be using in this sortie object\n        var $body = $table.querySelector('tbody');\n        var $headers = $table.querySelectorAll('thead th');\n        var current;\n\n        /**\n        * Get the options object\n        */\n        function getOptions() {\n            var dataAttr = $table.attributes;\n            var dataOptions = {};\n            for (var i = 0, l = dataAttr.length; i < l; i++) {\n                var attr = dataAttr[i];\n\n                if (attr.name.substr(0, 11) === 'data-sortie' && attr.name.length > 11) {\n                    var normkey = attr.name.toLowerCase().replace(/-/g, '');\n                    dataOptions[normkey.substr(11)] = attr.value;\n                }\n            }\n\n            return $.extend(true, {}, defaults, options, dataOptions);\n        }\n\n        /**\n         * Initialise sortie\n         */\n        function init() {\n            // Set the options object\n            options = getOptions();\n\n            // Determine the sort order\n            var sorts;\n            if (typeof options.sort !== 'undefined') {\n                sorts = options.sort;\n            } else {\n                sorts = $table.getAttribute('data-sortie');\n            }\n\n            // If there's no suitable sorting string, drop out\n            if (sorts === null) return false;\n\n            // If the sorts were a string, turn them into an object\n            if (typeof sorts === 'string') {\n                sorts = sorts.split('|');\n            }\n\n            if (sorts.length > $headers.length) {\n                console.error('Sortie config error: Too many sort columns specified');\n            }\n\n            // Add aria role-live settings and\n            $table.setAttribute('aria-atomic', true);\n            $table.setAttribute('aria-live', 'polite');\n            $table.setAttribute('aria-relevant', 'all');\n\n            // Generate an ID for the table\n            if (!$table.getAttribute('id')) {\n                $table.setAttribute('id', 'sortieTable' + (new Date() * 1));\n            }\n\n            // Add sortie specification to each column\n            for (var col in sorts) {\n                // Skip columns with no sort criteria\n                if (!sorts[col]) continue;\n\n                // Add a sorting icon to click\n                var $button = document.createElement('button');\n                $button.style.backgroundColor = 'transparent';\n                $button.style.border = 'none';\n                $button.innerHTML = options.markers.unsorted;\n                $button.setAttribute('type', 'button');\n                $button.setAttribute('aria-controls', $table.getAttribute('id'));\n\n                var $header = $headers[col];\n                $header.style.whiteSpace = 'nowrap';\n                $header.style.cursor = 'pointer';\n                $header.addEventListener('click', sortFactory(col));\n                $header.setAttribute('data-sortie', true);\n                _data.set($header, 'sortieCompareFunction', compareFactory(col, sorts[col]));\n                //$header.setAttribute('data-sortieButton', $button);\n                _data.set($header, 'sortieButton', $button);\n                $header.appendChild(document.createTextNode(' '));\n                $header.appendChild($button);\n            }\n\n            // Perform an initial sort\n            if (options.initialsort !== false) {\n                var opts = {};\n                if (options.initialsort.toString().substr(-1, 1) === 'D') {\n                    opts.dir = 'DESC';\n                } else if (options.initialsort.toString().substr(-1, 1) === 'A') {\n                    opts.dir = 'ASC';\n                } else if (options.initialsort.toString() === '-1') {\n                    for (var i = 0, l = sorts.length; i < l; i++) {\n                        if (sorts[i]) {\n                            options.initialsort = i;\n                            break;\n                        }\n                    }\n                }\n\n                sort(options.initialsort, opts);\n            }\n        }\n\n        // Factory for the sort function\n        function sortFactory(col) {\n            return function() {\n                sort(col);\n            }\n        }\n\n        /**\n         * Sort the table by the given column\n         */\n        function sort(col, opts) {\n            // Convert col to an integer\n            col = parseInt(col, 10);\n\n            var opts = $.extend({}, opts);\n            var $th = $headers[col];\n            //var $btn = $th.getAttribute('data-sortieButton');\n            var $btn = _data.get($th, 'sortieButton');\n            var rows = Array.prototype.slice.call($body.querySelectorAll('tr'), 0);\n            var dir = typeof opts.dir !== 'undefined' ? opts.dir : 'ASC';\n\n            // Get the sort order\n            if (current === col && _data.get($th, 'sortieDirection') === 'ASC' && typeof opts.dir == 'undefined') {\n                dir = 'DESC';\n            }\n\n            // Save the new state\n            current = col;\n            _data.set($th, 'sortieDirection', dir);\n            $th.setAttribute('aria-sort', dir.toLowerCase() + 'ending')\n\n            // Perform the sort\n            rows.sort(_data.get($th, 'sortieCompareFunction'));\n\n            // Update the button's HTML\n            if (dir === 'DESC') {\n                $btn.innerHTML = options.markers.desc;\n                rows = rows.reverse();\n            } else {\n                $btn.innerHTML = options.markers.asc;\n            }\n\n            // Update the other buttons\n            //$headers.not($th).each(function(index, el) {\n            for (var i = 0, l = $headers.length; i < l; i++) {\n                var $el = $headers[i];\n                // Only update \"other\" buttons\n                if ($el === $th) continue;\n\n                // Reset each button\n                $el.removeAttribute('aria-sort');\n                if ($el.getAttribute('data-sortie')) {\n                    _data.get($el, 'sortieButton').innerHTML = options.markers.unsorted;\n                }\n            }\n\n            // Update the content of the now-sorted table\n            var frag = document.createDocumentFragment();\n\n            for (var i in rows) {\n                frag.appendChild(rows[i]);\n            }\n\n            // Put the now sorted rows back onto the page\n            $body.innerHTML = '';\n            $body.appendChild(frag);\n        }\n\n        /**\n         * Return the suitable comparison function for the column\n         */\n        function compareFactory(col, sortSpec) {\n            var bits = sortSpec.split(':');\n            var operation = bits[0];\n            var args = bits[1] ? bits[1].split(',') : [];\n            var callback = compareFunctions[operation];\n\n            if (typeof callback !== 'function') {\n                console.error('Sortie error: comparison function not found for rule \"' + operation + '\"');\n                var callback = function() {return 0};\n            }\n\n            return function compare(a, b) {\n                var cellA = a.children[col];\n                var cellB = b.children[col];\n\n                var order = callback.call(window, cellA, cellB, args);\n\n                // If asked to, reverse the search order\n                return sortSpec.substr(1, 1) === 'r' ? -order : order;\n            }\n        }\n\n        // Run the initialisation\n        init();\n\n        // Return values\n        var obj = { sort: sort };\n        if (jQuery !== null) {\n            jQuery($table).data('mySortieInstance', obj);\n        }\n\n        return obj;\n    }\n\n    // Create a new sortie instance\n    function create(el, options) {\n        return new SortieInstance(el, options);\n    }\n\n    // Register a new comparison function\n    function registerComparison(codes, callback) {\n        if (typeof codes === 'string') codes = [codes];\n\n        // Register against each code provided\n        for (var i = 0, l = codes.length; i < l; i++) {\n            compareFunctions[codes[i]] = callback;\n        }\n    }\n\n    /*** Comparison functions ***/\n\n    // Compare alphanumerically\n    registerComparison(['a', 'alpha'], function compareAlpha(cellA, cellB) {\n        var ah = textContent(cellA).trim();\n        var bh = textContent(cellB).trim();\n        if (cellA.dir === 'rtl') ah = strReverse(ah);\n        if (cellB.dir === 'rtl') bh = strReverse(bh);\n        return ah.localeCompare(bh);\n    });\n\n    // Compare by date attributes\n    registerComparison(['d', 'date'], function compareData(cellA, cellB, args) {\n        var dateFormat = args[0];\n        var dateA = parseDate(textContent(cellA), dateFormat);\n        var dateB = parseDate(textContent(cellB), dateFormat);\n\n        if (dateA > dateB) {\n            return 1;\n        } else if (dateB < dateA) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n\n    // Compare integers\n    registerComparison(['i', 'int'], function compareInt(cellA, cellB) {\n        var aInt = parseInt(textContent(cellA), 10);\n        var bInt = parseInt(textContent(cellB), 10);\n        if (isNaN(bInt)) {\n            return isNaN(aInt) ? 0 : 1;\n        } else if (isNaN(aInt)) {\n            return -1;\n        } else {\n            return aInt - bInt;\n        }\n    });\n\n    /**\n     * Attach functionality to the supplied jQuery object\n     */\n    function attachTojQuery(jq, method) {\n        // Default object to global jQuery\n        if (typeof jq === 'undefined') jq = window.jQuery;\n        // Default method to \"sortie\"\n        if (typeof method === 'undefined') method = 'sortie';\n\n        // Not valid jQuery object\n        if (typeof jq !== 'function' || typeof $().jquery !== 'string') {\n            console.error('Invalid jQuery object supplied');\n            return false;\n        }\n\n        // Scope jQuery to module\n        jQuery = jq;\n\n        // Add sortie to jQuery under the specified method\n        jq.fn[method] = function(options) {\n            var args = Array.prototype.slice.apply(arguments);\n\n            return $(this).each(function() {\n                if (typeof options === 'string') {\n                    var command = options;\n                    $(this).data('mySortieInstance')[command](args.slice(1));\n                } else {\n                    if (!$(this).data('mySortieInstance')) {\n                        var Sortie = new SortieConstructor();\n                        Sortie.create(this, options);\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Return public methods\n     */\n    return {\n        attachTojQuery: attachTojQuery,\n        registerComparison: registerComparison,\n        create: create\n    };\n}));\n"],"sourceRoot":"/source/"}